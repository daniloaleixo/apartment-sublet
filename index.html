<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sublease Agreement</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #333;
            padding-bottom: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        input[type="text"], input[type="date"], input[type="number"], textarea, select {
            border: none;
            border-bottom: 1px solid #333;
            background: transparent;
            font-size: 14px;
            padding: 5px 0;
            width: auto;
            min-width: 150px;
        }
        input[type="text"]:focus, input[type="date"]:focus, input[type="number"]:focus, textarea:focus, select:focus {
            outline: none;
            border-bottom: 2px solid #007bff;
        }
        input[type="checkbox"] {
            transform: scale(1.2);
            margin-right: 8px;
            margin-left: 5px;
        }
        .wide-input {
            min-width: 400px !important;
        }
        .full-width {
            width: 100%;
            min-width: 100%;
        }
        textarea {
            min-height: 60px;
            resize: vertical;
        }
        .signature-section {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            flex-wrap: wrap;
        }
        .signature-box {
            width: 45%;
            margin-bottom: 30px;
            min-width: 250px;
        }
        .signature-line {
            border-bottom: 1px solid #333;
            height: 40px;
            margin-bottom: 10px;
        }
        .print-btn {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 20px 0;
        }
        .print-btn:hover {
            background-color: #0056b3;
        }
        @media print {
            .print-btn {
                display: none;
            }
        }
        .section {
            margin-bottom: 25px;
        }
        .section-title {
            font-weight: bold;
            margin-bottom: 10px;
            text-decoration: underline;
        }
        .checkbox {
            margin-right: 10px;
        }
        .amount-box {
            display: inline-block;
            min-width: 100px;
            text-align: center;
        }
        .german-date-input {
            position: relative;
            display: inline-block;
        }
        .german-date-input input[type="text"] {
            min-width: 100px;
        }
        .german-date-input input[type="date"] {
            position: absolute;
            opacity: 0;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>SUBLEASE AGREEMENT</h1>
    </div>

    <button class="print-btn" onclick="window.print()">Print / Save as PDF</button>

    <div class="section">
        <p>This Sublease Agreement is entered into on <span class="german-date-input"><input type="text" placeholder="dd/mm/yyyy" data-date-input="true"><input type="date"></span> between:</p>
        
        <p><strong>SUBLESSOR:</strong> <input type="text" class="wide-input" placeholder="Full Name"> ("Sublessor")<br>
        
        <p><strong>SUBLESSEE:</strong> <input type="text" class="wide-input" placeholder="Full Name"> ("Sublessee")</p>
    </div>

    <div class="section">
        <div class="section-title">1. PREMISES</div>
        <p>The Sublessor hereby subleases to the Sublessee the following described premises:</p>
        <p>Property Address: <input type="text" class="full-width" placeholder="Complete Property Address"></p>
        <p>Unit/Apartment Number: <input type="text" placeholder="Unit Number"> (if applicable)</p>
        <p>Description of Space: <textarea class="full-width" placeholder="Describe the space being subleased (e.g., entire apartment, single room, etc.)"></textarea></p>
    </div>

    <div class="section">
        <div class="section-title">2. TERM</div>
        <p>The term of this sublease shall commence on <span class="german-date-input"><input type="text" placeholder="dd/mm/yyyy" data-date-input="true"><input type="date"></span> and end on <span class="german-date-input"><input type="text" placeholder="dd/mm/yyyy" data-date-input="true"><input type="date"></span>.</p>
        <p><input type="checkbox" id="month-to-month"> <label for="month-to-month">Month-to-month tenancy after initial term expires</label><br>
        <input type="checkbox" id="term-end"> <label for="term-end">Sublease terminates at end of term</label></p>
    </div>

    <div class="section">
        <div class="section-title">3. RENT (GERMAN RENT RESTRICTIONS)</div>
        <p>The Sublessee agrees to pay rent in the amount of €<input type="number" class="amount-box" placeholder="Amount"> per <select>
            <option value="">Select period</option>
            <option value="month">month</option>
            <option value="week">week</option>
        </select>.</p>
        <p><strong>IMPORTANT:</strong> Under German law (§5 Wirtschaftsstrafgesetz), the Sublessor cannot charge more than the proportional rent paid to the Master Landlord, except for furnished accommodation or additional services.</p>
        <p>Master Landlord rent: €<input type="number" class="amount-box" placeholder="Amount"> per month</p>
        <p><input type="checkbox" id="furnished-rent"> <label for="furnished-rent">Rent includes furniture/additional services justifying higher amount</label></p>
        <p>Rent is due on the <input type="text" placeholder="day"> day of each month.</p>
        <p>Rent shall be paid to: <input type="text" class="wide-input" placeholder="Payment recipient"></p>
        <p>Payment method: <input type="text" class="wide-input" placeholder="Bank transfer (SEPA), cash, etc."></p>
    </div>

    <div class="section">
        <div class="section-title">4. SECURITY DEPOSIT (KAUTION)</div>
        <p><input type="checkbox" id="deposit-required"> <label for="deposit-required">A security deposit (Kaution) of €<input type="number" class="amount-box" placeholder="Amount"> is required</label></p>
        <p><input type="checkbox" id="no-deposit"> <label for="no-deposit">No security deposit required</label></p>
        <p>The security deposit shall be returned within <select>
            <option value="">Select timeframe</option>
            <option value="14">14 days</option>
            <option value="30">30 days</option>
            <option value="60">60 days</option>
        </select> after termination, less any deductions for damages or unpaid rent.</p>
        <p><input type="checkbox" id="separate-account"> <label for="separate-account">Deposit will be held in separate interest-bearing account (recommended practice)</label></p>
    </div>

    <div class="section">
        <div class="section-title">5. UTILITIES AND SERVICES</div>
        <p>The following utilities/services are included in rent:</p>
        <p><input type="checkbox" id="elec-inc"> <label for="elec-inc">Electricity</label>
        <input type="checkbox" id="gas-inc"> <label for="gas-inc">Gas</label>
        <input type="checkbox" id="water-inc"> <label for="water-inc">Water</label>
        <input type="checkbox" id="sewer-inc"> <label for="sewer-inc">Sewer</label><br>
        <input type="checkbox" id="trash-inc"> <label for="trash-inc">Trash</label>
        <input type="checkbox" id="internet-inc"> <label for="internet-inc">Internet</label>
        <input type="checkbox" id="cable-inc"> <label for="cable-inc">Cable/TV</label></p>
        <p><input type="checkbox" id="other-inc"> <label for="other-inc">Other:</label> <input type="text" class="wide-input" placeholder="Specify other included utilities"></p>
        
        <p>The Sublessee is responsible for:</p>
        <p><input type="checkbox" id="elec-resp"> <label for="elec-resp">Electricity</label>
        <input type="checkbox" id="gas-resp"> <label for="gas-resp">Gas</label>
        <input type="checkbox" id="water-resp"> <label for="water-resp">Water</label>
        <input type="checkbox" id="sewer-resp"> <label for="sewer-resp">Sewer</label><br>
        <input type="checkbox" id="trash-resp"> <label for="trash-resp">Trash</label>
        <input type="checkbox" id="internet-resp"> <label for="internet-resp">Internet</label>
        <input type="checkbox" id="cable-resp"> <label for="cable-resp">Cable/TV</label></p>
        <p><input type="checkbox" id="other-resp"> <label for="other-resp">Other:</label> <input type="text" class="wide-input" placeholder="Specify other utilities"></p>
    </div>

    <div class="section">
        <div class="section-title">6. USE OF PREMISES</div>
        <p>The premises shall be used exclusively for residential purposes by the Sublessee and no more than <input type="number" style="width: 30px;"> additional occupants.</p>
        <p><input type="checkbox" id="smoking-ok"> <label for="smoking-ok">Smoking permitted</label>
        <input type="checkbox" id="no-smoking"> <label for="no-smoking">No smoking</label><br>
        <input type="checkbox" id="pets-ok"> <label for="pets-ok">Pets permitted</label>
        <input type="checkbox" id="no-pets"> <label for="no-pets">No pets</label><br>
        If pets permitted, describe restrictions: <input type="text" class="wide-input" placeholder="Pet restrictions"></p>
    </div>

    <div class="section">
        <div class="section-title">8. CONDITION OF PREMISES</div>
        <p>The Sublessee acknowledges that the premises are in acceptable condition. Any existing damages or defects are noted as follows:</p>
        <textarea class="full-width" placeholder="List any existing damages or defects" style="min-height: 80px;"></textarea>
    </div>

    <div class="section">
        <div class="section-title">9. MAINTENANCE AND REPAIRS</div>
        <p><input type="checkbox" id="sublessor-maintenance"> <label for="sublessor-maintenance">Sublessor responsible for all maintenance and repairs</label><br>
        <input type="checkbox" id="sublessee-maintenance"> <label for="sublessee-maintenance">Sublessee responsible for minor maintenance (under $<input type="number" class="amount-box" placeholder="Amount">)</label><br>
        <input type="checkbox" id="other-maintenance"> <label for="other-maintenance">Other arrangement: <input type="text" class="wide-input" placeholder="Specify arrangement"></label></p>
    </div>

    <div class="section">
        <div class="section-title">10. INSURANCE</div>
        <p><input type="checkbox" id="insurance-required"> <label for="insurance-required">Sublessee required to obtain renter's insurance</label><br>
        <input type="checkbox" id="insurance-not-required"> <label for="insurance-not-required">Sublessee not required to obtain renter's insurance</label></p>
        <p>The Sublessor's insurance does not cover the Sublessee's personal property or liability.</p>
    </div>

    <div class="section">
        <div class="section-title">11. TERMINATION (KÜNDIGUNG)</div>
        <p>Under German law, termination requires written notice. This agreement may be terminated by either party with <select>
            <option value="">Select notice period</option>
            <option value="30">30 days</option>
            <option value="60">60 days</option>
            <option value="90">90 days</option>
        </select> written notice (minimum 3 months for main tenant protection).</p>
        <p><input type="checkbox" id="third-working-day"> <label for="third-working-day">Notice must be received by 3rd working day of month to be effective for end of corresponding month</label></p>
        <p>Termination must be delivered: 
        <input type="checkbox" id="registered-mail"> <label for="registered-mail">By registered mail</label>
        <input type="checkbox" id="personal-delivery"> <label for="personal-delivery">By personal delivery with receipt</label></p>
        <p>Additional termination conditions:</p>
        <textarea class="full-width" placeholder="Specify any additional termination conditions"></textarea>
    </div>

    <div class="section">
        <div class="section-title">13. ADDITIONAL TERMS</div>
        <textarea class="full-width" placeholder="Add any additional terms, conditions, or special agreements" style="min-height: 100px;"></textarea>
    </div>

    <div class="section">
        <div class="section-title">14. GOVERNING LAW</div>
        <p>This agreement shall be governed by German law (BGB - Bürgerliches Gesetzbuch) and Berlin local housing regulations.</p>
    </div>

    <div class="section">
        <p>By signing below, both parties agree to the terms and conditions set forth in this Sublease Agreement.</p>
    </div>

    <div class="signature-section">
        <div class="signature-box">
            <div class="signature-line"></div>
            <p><strong>SUBLESSOR SIGNATURE</strong></p>
            <p>Print Name: <input type="text" class="wide-input"></p>
            <p>Date: <span class="german-date-input"><input type="text" placeholder="dd/mm/yyyy" data-date-input="true"><input type="date"></span></p>
        </div>
        
        <div class="signature-box">
            <div class="signature-line"></div>
            <p><strong>SUBLESSEE SIGNATURE</strong></p>
            <p>Print Name: <input type="text" class="wide-input"></p>
            <p>Date: <span class="german-date-input"><input type="text" placeholder="dd/mm/yyyy" data-date-input="true"><input type="date"></span></p>
        </div>
    </div>

    <div style="margin-top: 40px; font-size: 12px; color: #666;">
        <p><strong>DISCLAIMER:</strong> This document is a template and may not address all legal requirements in your jurisdiction. It is recommended to consult with a qualified attorney before using this agreement. Laws vary by state and locality.</p>
    </div>

    <script>
        // German date format conversion functions
        function formatDateToGerman(dateString) {
            if (!dateString) return '';
            const date = new Date(dateString);
            if (isNaN(date.getTime())) return '';
            
            const day = String(date.getDate()).padStart(2, '0');
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const year = date.getFullYear();
            
            return `${day}/${month}/${year}`;
        }

        function parseGermanDate(germanDateString) {
            if (!germanDateString) return '';
            
            // Parse dd/mm/yyyy format
            const parts = germanDateString.split('/');
            if (parts.length !== 3) return '';
            
            const day = parseInt(parts[0], 10);
            const month = parseInt(parts[1], 10) - 1; // Month is 0-indexed
            const year = parseInt(parts[2], 10);
            
            if (isNaN(day) || isNaN(month) || isNaN(year)) return '';
            
            const date = new Date(year, month, day);
            if (isNaN(date.getTime())) return '';
            
            return date.toISOString().split('T')[0];
        }

        // Initialize date inputs
        document.addEventListener('DOMContentLoaded', function() {
            const dateInputs = document.querySelectorAll('[data-date-input="true"]');
            
            dateInputs.forEach(function(textInput) {
                const dateInput = textInput.nextElementSibling;
                
                // Set initial value if date input has a value
                if (dateInput.value) {
                    textInput.value = formatDateToGerman(dateInput.value);
                }
                
                // Handle text input changes (German format)
                textInput.addEventListener('input', function(e) {
                    const germanDate = e.target.value;
                    const isoDate = parseGermanDate(germanDate);
                    
                    if (isoDate) {
                        dateInput.value = isoDate;
                    }
                });
                
                // Handle date input changes (ISO format)
                dateInput.addEventListener('change', function(e) {
                    textInput.value = formatDateToGerman(e.target.value);
                });
                
                // Handle focus - show placeholder if empty
                textInput.addEventListener('focus', function() {
                    if (!this.value) {
                        this.placeholder = 'dd/mm/yyyy';
                    }
                });
                
                // Handle blur - validate and format
                textInput.addEventListener('blur', function() {
                    if (this.value) {
                        const isoDate = parseGermanDate(this.value);
                        if (isoDate) {
                            dateInput.value = isoDate;
                            this.value = formatDateToGerman(isoDate);
                        } else {
                            // Invalid date, clear both inputs
                            this.value = '';
                            dateInput.value = '';
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>
